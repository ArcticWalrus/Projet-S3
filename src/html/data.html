<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Donnees presentes</title>
    <meta name="description" content="Site de base projet S3">
    <script src="projet.js"> </script>
</head>

<body>
<h1>User</h1>
<table id="userTable"></table>

<h1>Device</h1>
<table id="DeviceTable" style="border: 1px solid black"></table>

<h1>IO</hl>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
var userString = '[{"cip":"bolm2210"},{"cip":"denj1605"},{"cip":"demo1622"}]';
var json = JSON.parse(userString);
var table = document.getElementById("userTable");
buildCIPTable(table, json);

var deviceString = '[{"valip":"0.0.0.0","valmac":"THIS IS A MAC","valcip":"bolm2210","namdevice":"name of device"},{"valip":"0.0.0.0","valmac":"THIS IS A MAC 2","valcip":"bolm2210","namdevice":"name of device 2"},{"valip":"0.0.0.0","valmac":"THIS IS A MAC 3","valcip":"denj1605","namdevice":"name of device 3"},{"valip":"1.2.3.4","valmac":"MAC","valcip":"bolm2210","namdevice":"new name"},{"valip":"8.8.8.8","valmac":"b8:27:eb:ee:e5:13","valcip":"denj1605","namdevice":"Joshua s pi"}]';
json = JSON.parse(deviceString);
table = document.getElementById("DeviceTable");
buildDeviceTable(table,json);

var IOString = '[{"devicename":"new name","cip":"bolm2210","pinid":10,"ioname":"name of IO 1","config":"1","value":66.66,"mac":"MAC"},{"devicename":"new name","cip":"bolm2210","pinid":11,"ioname":"name of IO 2","config":"0","value":0,"mac":"MAC"},{"devicename":"new name","cip":"bolm2210","pinid":12,"ioname":"name of IO 3","config":"1","value":0,"mac":"MAC"},{"devicename":"Joshua s pi","cip":"denj1605","pinid":3,"ioname":"input 1","config":"0","value":0,"mac":"b8:27:eb:ee:e5:13"},{"devicename":"Joshua s pi","cip":"denj1605","pinid":2,"ioname":"output 1","config":"1","value":1,"mac":"b8:27:eb:ee:e5:13"},{"devicename":"Joshua s pi","cip":"denj1605","pinid":4,"ioname":"input 2","config":"0","value":1,"mac":"b8:27:eb:ee:e5:13"}]';

function buildCIPTable(table,json){
	$(table).append('<tr><th>cip</th></tr>');
	for(var i = 0; i<json.length;i++){
		$(table).append('<tr><td>' + json[i].cip + '</td></tr>');
	}
}

function buildDeviceTable(table,json){
	$(table).append('<tr><th>cip</th><th>Device Name</th><th>IP</th><th>MAC</th></tr>');
	for(var i = 0; i<json.length;i++){
		$(table).append('<tr><td>' + json[i].valcip + '</td><td>' + json[i].namdevice + '</td><td>' + json[i].valip + '</td><td>' + json[i].valmac + '</td></tr>');
	}
}


</script>
</html>


